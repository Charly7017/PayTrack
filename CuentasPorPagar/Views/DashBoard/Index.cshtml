@model DashBoardViewModel
@{
    ViewData["Title"] = "Dashboard";
}

<partial name="_Submenu" model="SubMenuDashboard.Index"/>
<partial name="_Links" />

<select class="form-control-sm">
    @foreach (var años in Model.Años)
    {
        <option value="@años.Value">@años.Text</option>
    }
</select>


@* <partial name="_SelectAño" model="Model.Años" /> *@
<partial name="_EstadisticasCompras" model="@Model.ModelValue"/>


@section Scripts {

    <script>
   
        var meses=[]
        var años = []
        var comprasAnuales = []
        var comprasMensuales=[]
        var comprasDiarias=[]
        var color="blue"

        @if (Model.ComprasAnuales.Count() > 0)
        {
            foreach (var item in Model.ComprasAnuales)
            {
                @:años.push("@item.ComprasAño")
                @:comprasAnuales.push("@item.Total")

            }
        }

        @if (Model.ComprasMensuales.Count()>0)
        {
            foreach (var item in Model.ComprasMensuales)
            {
                @:meses.push("@item.Mes")
                @:comprasMensuales.push("@item.Total")
            }
        }

        


      

        new Chart("myChartAnual", {
            type: "bar",
            data: {
                labels: años,
                datasets: [{
                    backgroundColor: color,
                    data: comprasAnuales
                }]
            },
            options: {
                legend: { display: false },
                responsive: true,
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: true,
                            stepSize: 1,
                            precision: 0
                        }
                    }],
                }
            }
        });


        new Chart("myChartMensual", {
            type: "bar",
            data: {
                labels: meses,
                datasets: [{
                    backgroundColor: color,
                    data: comprasMensuales
                }]
            },
            options: {
                legend: { display: false },
                responsive: true,
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: true,
                            stepSize: 1,
                            precision: 0
                        }
                    }],
                }
            }
        });



        new Chart("myChartDiario", {
            type: "bar",
            data: {
                labels: [1, 3, 4],
                datasets: [{
                    backgroundColor: color,
                    data: [2,5,7]
                }]
            },
            options: {
                legend: { display: false },
                responsive: true,
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: true,
                            stepSize: 1,
                            precision: 0
                        }
                    }],
                }
            }
        });








    </script>

}







